Ext.define("Ext.layout.component.Component",{extend:"Ext.layout.Layout",type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,beginLayoutCycle:function(c,o){var j=this,b=j.owner,e=c.ownerCtContext,f=c.heightModel,g=c.widthModel,h=b.el.dom===document.body,d=b.lastBox||j.nullBox,m=b.el.lastBox||j.nullBox,a=!h,l,n,k,i;j.callParent(arguments);if(o){if(j.usesContentWidth){++c.consumersContentWidth}if(j.usesContentHeight){++c.consumersContentHeight}if(j.usesWidth){++c.consumersWidth}if(j.usesHeight){++c.consumersHeight}if(e&&!e.hasRawContent){l=b.ownerLayout;if(l.usesWidth){++c.consumersWidth}if(l.usesHeight){++c.consumersHeight}}}if(g.configured){k=g.names.width;if(!h){a=o?b[k]!==m.width:g.constrained}c.setWidth(b[k],a)}else{if(c.isTopLevel){if(g.calculated){n=d.width;c.setWidth(n,n!=m.width)}n=d.x;c.setProp("x",n,n!=m.x)}}if(f.configured){i=f.names.height;if(!h){a=o?b[i]!==m.height:f.constrained}c.setHeight(b[i],a)}else{if(c.isTopLevel){if(f.calculated){n=d.height;c.setHeight(n,n!=m.height)}n=d.y;c.setProp("y",n,n!=m.y)}}},finishedLayout:function(b){var g=this,k=b.children,a=g.owner,e,c,j,d,f,h;if(k){e=k.length;for(c=0;c<e;c++){j=k[c];j.el.lastBox=j.props}}b.previousSize=g.lastComponentSize;g.lastComponentSize=a.el.lastBox=f=b.props;a.lastBox=d={};h=f.x;if(h!==undefined){d.x=h}h=f.y;if(h!==undefined){d.y=h}h=f.width;if(h!==undefined){d.width=h}h=f.height;if(h!==undefined){d.height=h}g.callParent(arguments)},notifyOwner:function(d){var c=this,a=c.lastComponentSize,e=d.previousSize,b=[a.width,a.height];if(e){b.push(e.width,e.height)}c.owner.afterComponentLayout.apply(c.owner,b)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(b){var a=this,d=a.targetInfo,c;if(!d){c=b.getEl("getTarget",a);a.targetInfo=d={padding:c.getPaddingInfo(),border:c.getBorderInfo()}}return d},measureAutoDimensions:function(l,h){var q=this,a=q.owner,d=l.heightModel,g=l.widthModel,c=l.boxParent,m=l.isBoxParent,b=l.props,i,r={gotWidth:false,gotHeight:false,isContainer:(i=!l.hasRawContent)},p=h||3,o,e,j=0,f=0,k,n;if(g.shrinkWrap&&l.consumersContentWidth){++j;o=!(p&1);if(i){if(o){r.contentWidth=0;r.gotWidth=true;++f}else{if((r.contentWidth=l.getProp("contentWidth"))!==undefined){r.gotWidth=true;++f}}}else{n=b.contentWidth;if(typeof n=="number"){r.contentWidth=n;r.gotWidth=true;++f}else{if(o){k=true}else{if(!l.hasDomProp("containerChildrenDone")){k=false}else{if(m||!c||c.widthModel.shrinkWrap){k=true}else{k=c.hasDomProp("width")}}}if(k){if(!isNaN(r.contentWidth=o?0:q.measureContentWidth(l))){l.setContentWidth(r.contentWidth,true);r.gotWidth=true;++f}}}}}else{if(g.natural&&l.consumersWidth){++j;n=b.width;if(typeof n=="number"){r.width=n;r.gotWidth=true;++f}else{if(m||!c){k=true}else{k=c.hasDomProp("width")}if(k){if(!isNaN(r.width=q.measureOwnerWidth(l))){l.setWidth(r.width,false);r.gotWidth=true;++f}}}}}if(d.shrinkWrap&&l.consumersContentHeight){++j;e=!(p&2);if(i){if(e){r.contentHeight=0;r.gotHeight=true;++f}else{if((r.contentHeight=l.getProp("contentHeight"))!==undefined){r.gotHeight=true;++f}}}else{n=b.contentHeight;if(typeof n=="number"){r.contentHeight=n;r.gotHeight=true;++f}else{if(e){k=true}else{if(!l.hasDomProp("containerChildrenDone")){k=false}else{if(a.noWrap){k=true}else{if(!g.shrinkWrap){k=(l.bodyContext||l).hasDomProp("width")}else{if(m||!c||c.widthModel.shrinkWrap){k=true}else{k=c.hasDomProp("width")}}}}}if(k){if(!isNaN(r.contentHeight=e?0:q.measureContentHeight(l))){l.setContentHeight(r.contentHeight,true);r.gotHeight=true;++f}}}}}else{if(d.natural&&l.consumersHeight){++j;n=b.height;if(typeof n=="number"){r.height=n;r.gotHeight=true;++f}else{if(m||!c){k=true}else{k=c.hasDomProp("width")}if(k){if(!isNaN(r.height=q.measureOwnerHeight(l))){l.setHeight(r.height,false);r.gotHeight=true;++f}}}}}if(c){l.onBoxMeasured()}r.gotAll=f==j;return r},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});