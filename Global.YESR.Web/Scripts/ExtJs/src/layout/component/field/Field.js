Ext.define("Ext.layout.component.field.Field",{extend:"Ext.layout.component.Auto",alias:"layout.field",uses:["Ext.tip.QuickTip","Ext.util.TextMetrics","Ext.util.CSS"],type:"field",beginLayout:function(e){var d=this,a=d.owner,b=e.widthModel,c;d.callParent(arguments);e.labelStrategy=d.getLabelStrategy();e.errorStrategy=d.getErrorStrategy();e.labelContext=e.getEl("labelEl");e.bodyCellContext=e.getEl("bodyEl");e.inputContext=e.getEl("inputEl");e.errorContext=e.getEl("errorEl");e.inputRow=e.getEl("inputRow");if((Ext.isIE6||Ext.isIE7)&&Ext.isStrict&&e.inputContext){d.ieInputWidthAdjustment=e.inputContext.getPaddingInfo().width+e.inputContext.getBorderInfo().width}e.labelStrategy.prepare(e,a);e.errorStrategy.prepare(e,a);if(b.shrinkWrap){d.beginLayoutShrinkWrap(e)}else{if(b.natural){if(typeof a.size=="number"){d.beginLayoutFixed(e,(c=a.size*6.5+20),"px")}else{d.beginLayoutShrinkWrap(e)}e.setWidth(c,false)}else{d.beginLayoutFixed(e,"100","%")}}},beginLayoutFixed:function(c,b,d){var a=c.target;a.el.setStyle("table-layout","fixed");a.bodyEl.setStyle("width",b+d)},beginLayoutShrinkWrap:function(b){var a=b.target;if(a.inputEl&&a.inputEl.dom){a.inputEl.dom.removeAttribute("size")}a.el.setStyle("table-layout","auto");a.bodyEl.setStyle("width","")},finishedLayout:function(b){var a=this.owner;this.callParent(arguments);b.labelStrategy.finishedLayout(b,a);b.errorStrategy.finishedLayout(b,a)},calculateOwnerHeightFromContentHeight:function(b,a){return a},measureContentHeight:function(a){return a.el.getHeight()},measureContentWidth:function(a){return a.el.getWidth()},measureLabelErrorHeight:function(a){return a.labelStrategy.getHeight(a)+a.errorStrategy.getHeight(a)},onFocus:function(){this.getErrorStrategy().onFocus(this.owner)},getLabelStrategy:function(){var b=this,c=b.labelStrategies,a=b.owner.labelAlign;return c[a]||c.base},getErrorStrategy:function(){var c=this,a=c.owner,d=c.errorStrategies,b=a.msgTarget;return !a.preventMark&&Ext.isString(b)?(d[b]||d.elementId):d.none},labelStrategies:(function(){var a={prepare:function(e,b){var c=b.labelCls+"-"+b.labelAlign,d=b.labelEl;if(d){d.addCls(c)}},getHeight:function(){return 0},finishedLayout:Ext.emptyFn};return{base:a,top:Ext.applyIf({prepare:function(d,b){a.prepare(d,b);var c=b.labelEl;d.hasHiddenLabel=c&&!b.hideEmptyLabel&&!b.getFieldLabel();if(d.hasHiddenLabel){c.dom.innerHTML="&#160;"}},getHeight:function(e){var d=e.labelContext,c=d.getProp("height"),b=e.hasHiddenLabel;if(c===undefined||b){c=d.el.getHeight()+d.getMarginInfo().height;if(b){d.setHeight(c)}}return c},finishedLayout:function(c,b){if(c.hasHiddenLabel){b.labelEl.dom.innerHTML=""}}},a),left:a,right:a}}()),errorStrategies:(function(){function d(g){var h=Ext.layout.component.field.Field.tip,i;if(h&&h.isVisible()){i=h.activeTarget;if(i&&i.el===g.getActionEl().dom){h.toFront(true)}}}var c=Ext.applyIf,b=Ext.emptyFn,a=Ext.baseCSSPrefix+"form-invalid-icon",f,e={prepare:function(i,g){var h=g.errorEl;if(h){h.setDisplayed(false)}},getHeight:function(){return 0},onFocus:b,finishedLayout:b};return{none:e,side:c({prepare:function(h,g){var j=g.errorEl,i;if(!f){f=(i=Ext.getBody().createChild({style:"position:absolute",cls:a})).getWidth();i.remove()}j.addCls(a);j.set({"data-errorqtip":g.getActiveError()||""});j.setDisplayed(g.hasActiveError());g.bodyEl.dom.colSpan=g.getBodyColspan();Ext.layout.component.field.Field.initTip()},onFocus:d},e),under:c({prepare:function(i,g){var j=g.errorEl,h=Ext.baseCSSPrefix+"form-invalid-under";j.addCls(h);j.setDisplayed(g.hasActiveError());if(g.labelAlign=="left"){j.prev().setDisplayed(g.hasVisibleLabel()?"block":"none")}},getHeight:function(j){var g=0,h,i;if(j.target.hasActiveError()){h=j.errorContext;i=h.props;g=i.height;if(g===undefined){i.height=g=h.el.getHeight()}}return g}},e),qtip:c({prepare:function(h,g){Ext.layout.component.field.Field.initTip();g.getActionEl().set({"data-errorqtip":g.getActiveError()||""})},onFocus:d},e),title:c({prepare:function(h,g){g.el.set({title:g.getActiveError()||""})}},e),elementId:c({prepare:function(h,g){var i=Ext.fly(g.msgTarget);if(i){i.dom.innerHTML=g.getActiveError()||"";i.setDisplayed(g.hasActiveError())}}},e)}}()),statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=Ext.create("Ext.tip.QuickTip",{baseCls:Ext.baseCSSPrefix+"form-invalid-tip"});a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}}});