Ext.define("Ext.grid.column.Action",{extend:"Ext.grid.column.Column",alias:["widget.actioncolumn"],alternateClassName:"Ext.grid.ActionColumn",actionIdRe:new RegExp(Ext.baseCSSPrefix+"action-col-(\\d+)"),altText:"",menuText:"<i>Actions</i>",sortable:false,constructor:function(c){var d=this,a=Ext.apply({},c),b=a.items||[d];d.origRenderer=a.renderer||d.renderer;d.origScope=a.scope||d.scope;delete d.renderer;delete d.scope;delete a.renderer;delete a.scope;delete a.items;d.callParent([a]);d.items=b;if(d.origRenderer){d.hasCustomRenderer=true}},defaultRenderer:function(f,h){var e=this,b=Ext.baseCSSPrefix,j=e.origScope||e,d=e.items,c=d.length,a=0,g;f=Ext.isFunction(e.origRenderer)?e.origRenderer.apply(j,arguments)||"":"";h.tdCls+=" "+Ext.baseCSSPrefix+"action-col-cell";for(;a<c;a++){g=d[a];if(!g.hasActionConfiguration){g.stopSelection=e.stopSelection;g.disable=Ext.Function.bind(e.disableAction,e,[a],0);g.enable=Ext.Function.bind(e.enableAction,e,[a],0);g.hasActionConfiguration=true}f+='<img alt="'+(g.altText||e.altText)+'" src="'+(g.icon||Ext.BLANK_IMAGE_URL)+'" class="'+b+"action-col-icon "+b+"action-col-"+String(a)+" "+(g.disabled?b+"item-disabled":" ")+" "+(Ext.isFunction(g.getClass)?g.getClass.apply(g.scope||j,arguments):(g.iconCls||e.iconCls||""))+'"'+((g.tooltip)?' data-qtip="'+g.tooltip+'"':"")+" />"}return f},enableAction:function(b,a){var c=this;if(!b){b=0}else{if(!Ext.isNumber(b)){b=Ext.Array.indexOf(c.items,b)}}c.items[b].disabled=false;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+b).removeCls(c.disabledCls);if(!a){c.fireEvent("enable",c)}},disableAction:function(b,a){var c=this;if(!b){b=0}else{if(!Ext.isNumber(b)){b=Ext.Array.indexOf(c.items,b)}}c.items[b].disabled=true;c.up("tablepanel").el.select("."+Ext.baseCSSPrefix+"action-col-"+b).addCls(c.disabledCls);if(!a){c.fireEvent("disable",c)}},destroy:function(){delete this.items;delete this.renderer;return this.callParent(arguments)},processEvent:function(h,k,m,a,i,f,c,o){var g=this,d=f.getTarget(),b,n,j,l=h=="keydown"&&f.getKey();if(l&&!Ext.fly(d).findParent(k.cellSelector)){d=Ext.fly(m).down("."+Ext.baseCSSPrefix+"action-col-icon",true)}if(d&&(b=d.className.match(g.actionIdRe))){n=g.items[parseInt(b[1],10)];if(n){if(h=="click"||(l==f.ENTER||l==f.SPACE)){j=n.handler||g.handler;if(j&&!n.disabled){j.call(n.scope||g.scope||g,k,a,i,n,f,c,o)}}else{if(h=="mousedown"&&n.stopSelection!==false){return false}}}}return g.callParent(arguments)},cascade:function(b,a){b.call(a||this,this)},getRefItems:function(){return[]}});