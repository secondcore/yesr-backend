Ext.define("Ext.grid.ColumnLayout",{extend:"Ext.layout.container.HBox",alias:"layout.gridcolumn",type:"gridcolumn",reserveOffset:false,firstHeaderCls:Ext.baseCSSPrefix+"column-header-first",lastHeaderCls:Ext.baseCSSPrefix+"column-header-last",beginLayout:function(c){var g=this,b=g.owner,a=b.up("[scrollerOwner]"),h=a.view,d=0,f=g.getVisibleItems(),e=f.length,j;if(a.lockable){if(g.owner.up("tablepanel")===h.normalGrid){h=h.normalGrid.getView()}else{h=null}}g.callParent(arguments);for(;d<e;d++){j=f[d];j.removeCls([g.firstHeaderCls,g.lastHeaderCls]);j.el.setStyle({height:"auto"});j.titleEl.setStyle({height:"auto",paddingTop:""})}if(e>0){f[0].addCls(g.firstHeaderCls);f[e-1].addCls(g.lastHeaderCls)}if(!g.owner.isHeader&&Ext.getScrollbarSize().width&&!a.collapsed&&h&&h.rendered&&(c.viewTable=h.el.child("table",true))){c.viewContext=c.context.getCmp(h)}},roundFlex:function(a){return Math.floor(a)},getContainerSize:function(e){var d=this,a=d.callParent(arguments),c=e.viewContext,b;if(c&&!c.heightModel.shrinkWrap&&c.target.componentLayout.ownerContext){b=c.getProp("height");if(isNaN(b)){d.done=false}else{if(e.state.tableHeight>b){a.width-=Ext.getScrollbarSize().width;e.state.parallelDone=false;c.invalidate()}}}return a},calculate:function(c){var b=this,a=c.viewContext;if(a&&!c.state.tableHeight){c.state.tableHeight=c.viewTable.offsetHeight}b.callParent(arguments)},completeLayout:function(c){var h=this,b=h.owner,a=c.state,f=false,j=h.sizeModels.calculated,e,g,d,l,k;h.callParent(arguments);if(!a.flexesCalculated&&b.forceFit&&!b.isHeader){e=c.childItems;g=e.length;for(d=0;d<g;d++){l=e[d];k=l.target;if(k.width){k.flex=c.childItems[d].flex=k.width;delete k.width;l.widthModel=j;f=true}}if(f){h.cacheFlexes(c);c.invalidate({state:{flexesCalculated:true}})}}},finalizeLayout:function(){var f=this,e=0,d,b,g,a=f.owner,c=a.titleEl;d=f.getVisibleItems();b=d.length;g=a.el.getViewSize().height;if(c){g-=c.getHeight()}for(;e<b;e++){d[e].setPadding(g)}},publishInnerCtSize:function(d){var c=this,e=d.state.boxPlan,b=e.targetSize,a=d.peek("contentWidth");if((a!=null)&&!c.owner.isHeader){b.width=a+Ext.getScrollbarSize().width}return c.callParent(arguments)}});