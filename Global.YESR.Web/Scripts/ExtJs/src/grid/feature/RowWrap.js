Ext.define("Ext.grid.feature.RowWrap",{extend:"Ext.grid.feature.Feature",alias:"feature.rowwrap",hasFeatureEvent:false,init:function(){if(!this.disabled){this.enable()}},getRowSelector:function(){return"tr:has(> "+this.view.cellSelector+")"},enable:function(){var b=this,a=b.view;b.callParent();b.savedRowSelector=a.rowSelector;a.rowSelector=b.getRowSelector();a.onHeaderResize=Ext.Function.createSequence(a.onHeaderResize,b.onHeaderResize,b)},disable:function(){var c=this,a=c.view,b=c.savedRowSelector;c.callParent();if(b){a.rowSelector=b}delete c.savedRowSelector;delete a.onHeaderResize},mutateMetaRowTpl:function(a){var b=Ext.baseCSSPrefix;a[0]=a[0].replace(b+"grid-row","");a[0]=a[0].replace("{[this.embedRowCls()]}","");a.unshift('<table class="'+b+"grid-table "+b+'grid-table-resizer" style="width: {[this.embedFullWidth()]}px;">');a.unshift('<tr class="'+b+'grid-row {[this.embedRowCls()]}"><td colspan="{[this.embedColSpan()]}"><div class="'+b+'grid-rowwrap-div">');a.push("</table>");a.push("</div></td></tr>")},embedColSpan:function(){return"{colspan}"},embedFullWidth:function(){return"{fullWidth}"},getAdditionalData:function(g,n,j,l){var d=this.view.headerCt,c=d.getColumnCount(),m=d.getFullWidth(),k=d.query("gridcolumn"),p=k.length,f=0,b={colspan:c,fullWidth:m},a,h,e;for(;f<p;f++){a=k[f].id;h=a+"-tdCls";e=Ext.baseCSSPrefix+"grid-col-resizer-"+a;b[h]=e+" "+(l[h]?l[h]:"");b[a+"-tdAttr"]=' style="width: '+(k[f].hidden?0:k[f].getDesiredWidth())+'px;" ';if(l[a+"-tdAttr"]){b[a+"-tdAttr"]+=l[a+"-tdAttr"]}}return b},getMetaRowTplFragments:function(){return{embedFullWidth:this.embedFullWidth,embedColSpan:this.embedColSpan}},onHeaderResize:function(d,a,c){var b=this.view.el;if(b){b.select("td."+Ext.baseCSSPrefix+"grid-col-resizer-"+d.id).setWidth(a)}}});