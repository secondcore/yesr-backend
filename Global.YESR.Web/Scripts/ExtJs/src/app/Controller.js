Ext.define("Ext.app.Controller",{mixins:{observable:"Ext.util.Observable"},onClassExtended:function(i,c,h){var g=Ext.getClassName(i),d=g.match(/^(.*)\.controller\./),b,f,j,a,e;if(d!==null){b=Ext.Loader.getPrefix(g)||d[1];f=h.onBeforeCreated;j=[];a=["model","view","store"];h.onBeforeCreated=function(s,m){var n,p,k,q,l,o,r;for(n=0,p=a.length;n<p;n++){k=a[n];e=b+"."+k+".";q=Ext.Array.from(m[k+"s"]);for(l=0,o=q.length;l<o;l++){r=q[l];if(r.indexOf(".")!==-1&&(Ext.ClassManager.isCreated(r)||Ext.Loader.isAClassNameWithAKnownPrefix(r))){j.push(r)}else{j.push(e+r)}}}Ext.require(j,Ext.Function.pass(f,arguments,this))}}},constructor:function(a){this.mixins.observable.constructor.call(this,a);Ext.apply(this,a||{});this.createGetters("model",this.models);this.createGetters("store",this.stores);this.createGetters("view",this.views);if(this.refs){this.ref(this.refs)}},init:function(a){},onLaunch:function(a){},createGetters:function(f,h){f=Ext.String.capitalize(f);var e=0,a=(h)?h.length:0,g,b,c,j,d;for(;e<a;e++){g="get";b=h[e];c=b.split(".");d=c.length;for(j=0;j<d;j++){g+=Ext.String.capitalize(c[j])}g+=f;if(!this[g]){this[g]=Ext.Function.pass(this["get"+f],[b],this)}this[g](b)}},ref:function(a){a=Ext.Array.from(a);var f=this,b=0,e=a.length,g,d,c;for(;b<e;b++){g=a[b];d=g.ref;c="get"+Ext.String.capitalize(d);if(!f[c]){f[c]=Ext.Function.pass(f.getRef,[d,g],f)}f.references=f.references||[];f.references.push(d.toLowerCase())}},addRef:function(a){return this.ref([a])},getRef:function(d,e,a){this.refCache=this.refCache||{};e=e||{};a=a||{};Ext.apply(e,a);if(e.forceCreate){return Ext.ComponentManager.create(e,"component")}var c=this,b=c.refCache[d];if(!b){c.refCache[d]=b=Ext.ComponentQuery.query(e.selector)[0];if(!b&&e.autoCreate){c.refCache[d]=b=Ext.ComponentManager.create(e,"component")}if(b){b.on("beforedestroy",function(){c.refCache[d]=null})}}return b},hasRef:function(a){return this.references&&this.references.indexOf(a.toLowerCase())!==-1},control:function(a,b){this.application.control(a,b,this)},getController:function(a){return this.application.getController(a)},getStore:function(a){return this.application.getStore(a)},getModel:function(a){return this.application.getModel(a)},getView:function(a){return this.application.getView(a)}});