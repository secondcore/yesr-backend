(function(){var d=document,b=d.compatMode=="CSS1Compat",e=Ext.Element,a=function(f){if(!c){c=new Ext.Element.Flyweight()}c.dom=f;return c},c;Ext.apply(e,{getViewWidth:function(f){return f?e.getDocumentWidth():e.getViewportWidth()},getViewHeight:function(f){return f?e.getDocumentHeight():e.getViewportHeight()},getDocumentHeight:function(){return Math.max(!b?d.body.scrollHeight:d.documentElement.scrollHeight,e.getViewportHeight())},getDocumentWidth:function(){return Math.max(!b?d.body.scrollWidth:d.documentElement.scrollWidth,e.getViewportWidth())},getViewportHeight:function(){return Ext.isIE?(Ext.isStrict?d.documentElement.clientHeight:d.body.clientHeight):self.innerHeight},getViewportWidth:function(){return(!Ext.isStrict&&!Ext.isOpera)?d.body.clientWidth:Ext.isIE?d.documentElement.clientWidth:self.innerWidth},getY:function(f){return e.getXY(f)[1]},getX:function(f){return e.getXY(f)[0]},getOffsetParent:function(g){g=Ext.getDom(g);try{return g.offsetParent}catch(h){var f=document.body;return(g==f)?null:f}},getXY:function(h){var g,n,q,t,i,j,s=0,o=0,r,f,k=(d.body||d.documentElement),m;h=Ext.getDom(h);if(h!=k){f=a(h).isStyle("position","absolute");if(h.getBoundingClientRect){try{q=h.getBoundingClientRect();r=a(document).getScroll();m=[Math.round(q.left+r.left),Math.round(q.top+r.top)]}catch(l){}}if(!m){for(g=h;g;g=e.getOffsetParent(g)){n=a(g);s+=g.offsetLeft;o+=g.offsetTop;f=f||n.isStyle("position","absolute");if(Ext.isGecko){o+=t=parseInt(n.getStyle("borderTopWidth"),10)||0;s+=i=parseInt(n.getStyle("borderLeftWidth"),10)||0;if(g!=h&&!n.isStyle("overflow","visible")){s+=i;o+=t}}}if(Ext.isSafari&&f){s-=k.offsetLeft;o-=k.offsetTop}if(Ext.isGecko&&!f){j=a(k);s+=parseInt(j.getStyle("borderLeftWidth"),10)||0;o+=parseInt(j.getStyle("borderTopWidth"),10)||0}g=h.parentNode;while(g&&g!=k){if(!Ext.isOpera||(g.tagName.toUpperCase()!="TR"&&!a(g).isStyle("display","inline"))){s-=g.scrollLeft;o-=g.scrollTop}g=g.parentNode}m=[s,o]}}return m||[0,0]},setXY:function(g,h){(g=Ext.fly(g,"_setXY")).position();var i=g.translatePoints(h),f=g.dom.style,j;for(j in i){if(!isNaN(i[j])){f[j]=i[j]+"px"}}},setX:function(g,f){e.setXY(g,[f,false])},setY:function(f,g){e.setXY(f,[false,g])}})}());