Ext.define("Ext.env.FeatureDetector",{statics:{defaultTests:{Canvas:function(){var a=this.getTestElement("canvas");return !!(a&&a.getContext&&a.getContext("2d"))},SVG:function(){var a=Ext.global.document;return !!(a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)},VML:function(){var b=this.getTestElement(),a=false;b.innerHTML="<!--[if vml]><br/><br/><![endif]-->";a=(b.childNodes.length===2);b.innerHTML="";return a},Touch:function(){return("ontouchstart" in Ext.global)&&!(Ext.platform&&Ext.platform.name.match(/Windows|MacOSX|Linux/))},Orientation:function(){return("orientation" in Ext.global)},Geolocation:function(){return !!Ext.global.navigator.geolocation},SqlDatabase:function(){return !!Ext.global.openDatabase},Websockets:function(){return"WebSocket" in Ext.global},History:function(){return !!(Ext.global.history&&Ext.global.history.pushState)},CSSTransforms:function(){return this.isStyleSupported("transform")},CSS3DTransforms:function(){return this.has("csstransforms")&&this.isStyleSupported("perspective")},CSSAnimations:function(){return this.isStyleSupported("animationName")},CSSTransitions:function(){return this.isStyleSupported("transitionProperty")},Audio:function(){return !!this.getTestElement("audio").canPlayType},Video:function(){return !!this.getTestElement("video").canPlayType}},stylePrefixes:["Webkit","Moz","O","ms"]},constructor:function(){this.tests={};this.testElements={};this.registerTests(this.self.defaultTests,true);return this},has:function(a){if(!this.hasTest(a)){return false}else{if(this.has.hasOwnProperty(a)){return this.has[a]}else{return this.getTestResult(a)}}},getTestResult:function(a){return !!this.getTest(a).call(this)},getTestElement:function(a){if(!a){a="div"}if(!this.testElements[a]){this.testElements[a]=Ext.global.document.createElement(a)}return this.testElements[a]},registerTest:function(a,b,c){if(this.hasTest(a)){Ext.Error.raise({sourceClass:"Ext.env.FeatureDetector",sourceMethod:"registerTest",msg:"Test name "+a+" has already been registered"})}this.tests[a]=b;if(c){this.has[a]=this.getTestResult(a)}return this},registerTests:function(b,c){var a;for(a in b){if(b.hasOwnProperty(a)){this.registerTest(a,b[a],c)}}return this},hasTest:function(a){return this.tests.hasOwnProperty(a)},getTest:function(a){if(!this.hasTest(a)){Ext.Error.raise({sourceClass:"Ext.env.FeatureDetector",sourceMethod:"getTest",msg:"Test name "+a+" does not exist"})}return this.tests[a]},getTests:function(){return this.tests},isStyleSupported:function(c,b){var e=this.getTestElement(b).style,a=Ext.String.capitalize(c),d=this.self.stylePrefixes.length;if(e[c]!==undefined){return true}while(d--){if(e[this.self.stylePrefixes[d]+a]!==undefined){return true}}return false},isEventSupported:function(c,a){var e=this.getTestElement(a),b="on"+c,d=false;d=(b in e);if(!d){if(e.setAttribute&&e.removeAttribute){e.setAttribute(b,"");d=typeof e[b]==="function";if(typeof e[b]!=="undefined"){e[b]=undefined}e.removeAttribute(b)}}return d}},function(){Ext.features=new Ext.env.FeatureDetector()});